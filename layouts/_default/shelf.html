{{ define "main" }}
  <header class="section-header">
    <h1 class="section-title">{{ .Title }}</h1>
    {{ with .Params.description }}
      <p class="section-description">{{ . }}</p>
    {{ end }}
  </header>

  {{ with .Content }}
    <div class="content">{{ . }}</div>
  {{ end }}

  <div class="shelf-grid">
    {{ range .Sections.ByWeight }}
      <a class="shelf-card" href="{{ .RelPermalink }}">
        <div class="shelf-title">{{ .Title }}</div>

        {{ with .Params.description }}
          <div class="shelf-desc">{{ . }}</div>
        {{ end }}

        {{ $count := len .RegularPagesRecursive }}
        <div class="shelf-meta">共 {{ $count }} 篇</div>
      </a>
    {{ end }}
  </div>
{{ end }}
